# Additional info: https://docs.openshift.com/container-platform/4.9/web_console/creating-quick-start-tutorials.html
metadata:
  name: insights-tasks-convert
  # you can add additional metadata here
  instructional: true
spec:
  displayName: Convert to RHEL from CentOS Linux 7 in Insights
  durationMinutes: 10
  # Optional type section, will display as a tile on the card
  type:
    text: Quick start
    # 'blue' | 'cyan' | 'green' | 'orange' | 'purple' | 'red' | 'grey'
    color: green
  icon: data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj4KPHRpdGxlPjwvdGl0bGU+CjxnIGlkPSJpY29tb29uLWlnbm9yZSI+CjwvZz4KPHBhdGggZD0iTTQ0OCA2NHY0MTZoLTMzNmMtMjYuNTEzIDAtNDgtMjEuNDktNDgtNDhzMjEuNDg3LTQ4IDQ4LTQ4aDMwNHYtMzg0aC0zMjBjLTM1LjE5OSAwLTY0IDI4LjgtNjQgNjR2Mzg0YzAgMzUuMiAyOC44MDEgNjQgNjQgNjRoMzg0di00NDhoLTMyeiI+PC9wYXRoPgo8cGF0aCBkPSJNMTEyLjAyOCA0MTZ2MGMtMC4wMDkgMC4wMDEtMC4wMTkgMC0wLjAyOCAwLTguODM2IDAtMTYgNy4xNjMtMTYgMTZzNy4xNjQgMTYgMTYgMTZjMC4wMDkgMCAwLjAxOS0wLjAwMSAwLjAyOC0wLjAwMXYwLjAwMWgzMDMuOTQ1di0zMmgtMzAzLjk0NXoiPjwvcGF0aD4KPC9zdmc+Cg==
  prerequisites:
    - You have completed and reviewed a pre-conversion analysis report using Insights for the systems you plan to convert.
  description: |-
    Convert your operating system from CentOS Linux 7 to Red Hat Enterprise Linux (RHEL) 7. 
  introduction: |-  
    After running the Pre-conversion analysis for converting to RHEL task and resolving all reported issues, you can convert your CentOS Linux 7 systems to RHEL 7.
    <br>
    <br>
    Additional information:

    - Before using Red Hat Insights to perform the conversion, you must first complete all necessary [preparation steps.](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/converting_from_an_rpm-based_linux_distribution_to_rhel/converting-using-insights_converting-from-a-linux-distribution-to-rhel)

    - It is possible to convert systems from other Linux distributions. [View supported conversion paths.](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/converting_from_an_rpm-based_linux_distribution_to_rhel/con_supported-conversion-paths_converting-from-a-linux-distribution-to-rhel)

    - Depending on your requirements, you can convert to RHEL using a number of supported methods. [View supported conversion methods.](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/converting_from_an_rpm-based_linux_distribution_to_rhel/conversion-methods_converting-from-a-linux-distribution-to-rhel)      
  tasks:
    - title: Convert to a RHEL system by using Insights
      description: |-
        [Back up your systems and verify that you can restore your systems if needed]{{admonition important}}

        [To avoid serious problems after the conversion, do not convert any systems that have unresolved inhibitors and warnings in the pre-conversion analysis.]{{admonition important}}

        After running the pre-conversion analysis for converting to RHEL task and resolving all reported issues, you can convert your CentOS Linux 7 systems to RHEL 7. The conversion task generates a conversion report detaiing the systems that were succesfully conveted as well and summarizing any problems for any that did not.<br>       
        
        **Run the conversion task:**

        1. Log in to the Red Hat Hybrid Cloud Console and go to **Red Hat Insights > RHEL > Automation toolkit > Tasks.**
      
        1. Locate the **Convert to RHEL from CentOS 7 Linux** task and click **Select systems.**

        1. Select the CentOS Linux 7 systems that you want to convert to RHEL and click  **Run task.**
        
        [The conversion process can take up to an hour to complete.]{{admonition note}}
 
        1. Go to the **Activity tab**. and select the newly generated conversion report. Select the report to view a summary of the status of each system. 

        1. After task completion,you can review each system and message:<br> 
              - **Inhibitor:** The conversion failed because converting would very likely result in a deteriorated system state. This issue must be resolved before converting the affected system.
              - **Overridable inhibitor**: The conversion failed because converting would very likely result in a deteriorated system state. This issue must be resolved or manually overridden before converting.
              - **Skipped:** The conversion failed because the Conversion task could not run one or more tests. This issue must be resolved before converting the affected system.
              - **Converted:** System has been converted. Reboot this system.

        1. If a system has been successfully converted with no issues, reboot the system and proceed to step 8.

        1. If the system was not converted, review the message for more information on the found problems and how to resolve them. Additionally, verify the following:<br>
              - You have completed all steps in [Preparing for a conversion using Insights.] (https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/converting_from_an_rpm-based_linux_distribution_to_rhel/converting-using-insights_converting-from-a-linux-distribution-to-rhel)
              - The system contains all packages required for the conversion.
              - The system is running.
              - You have resolved all issues found in the Pre-conversion analysis for converting to RHEL task.

        1. After rebooting the system that has been successfully converted, remove third-party packages from the original OS that remained unchanged. These are typically packages that do not have a RHEL counterpart. To get a list of these packages, use:<br>
              - `# yum list extras --disablerepo="*" --enablerepo=`{{copy}}<br>
              - Add your repository after `enablerepo`.

        1. Optional: Perform an in-place upgrade to RHEL 9 to ensure your system is updated with the latest enhancements, security features, and bug fixes. For more information, see the [Upgrading from RHEL 7 to RHEL 8] (https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/upgrading_from_rhel_7_to_rhel_8/index) and [Upgrading from RHEL 8 to RHEL 9] (https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/upgrading_from_rhel_8_to_rhel_9/index) guides.
                           
      # optional - the task's Check your work module
      review:
        instructions: |-
          - Did you complete the task successfully?
        failedTaskHelp: This task isn't verified yet. Try the task again.
      # optional - the task's success and failure messages
      summary:
        success: Shows a success message in the task header
        failed: Shows a failed message in the task header   
  conclusion: |-
    <br>
    **Thank you for taking the time to explore this feature!**

    For additonal guidance, [visit the conversion documentation](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/converting_from_an_rpm-based_linux_distribution_to_rhel/index). 

    If you need additional assistance, [open a support case](https://access.redhat.com/support). 